<ion-content>
  <div style="padding: 40px 40px 0 40px; text-align: center">
    <span class="main__title ion-text-center"> Perfil </span>
  </div>

  <ion-row>
    <ion-col size-xs="0" size-sm="0" size-md="1" size-lg="2.5" size-xl="2.5">
    </ion-col>

    <ion-col size-xs="12" size-sm="12" size-md="10" size-lg="7" size-xl="7">
      <ion-card>
        <ion-card-content *ngIf="profileInfo">
          <ion-row>
            <ion-col size="5">
              <ion-select
                disabled="true"
                [value]="profileInfo.tipo_documento"
                interface="popover"
                style="
                  width: 100%;
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Tipo de documento"
              >
                <ion-select-option [value]="1">DNI</ion-select-option>
                <ion-select-option [value]="2"
                  >Carnet de Extranjería</ion-select-option
                >
                <ion-select-option [value]="3">Pasaporte</ion-select-option>
                <ion-select-option [value]="4"
                  >Permiso Temporal de Trabajo</ion-select-option
                >
                <ion-select-option [value]="5">RUC</ion-select-option>
              </ion-select>
            </ion-col>
            <ion-col size="7">
              <ion-input
                disabled="true"
                [(ngModel)]="profileInfo.numero_documento"
                type="tel"
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Número de Doc."
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input
                disabled="true"
                [(ngModel)]="profileInfo.name"
                type="name"
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Nombre(s)"
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-input
                disabled="true"
                [(ngModel)]="profileInfo.lastname"
                type="name"
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Apellido Paterno"
              ></ion-input>
            </ion-col>
            <ion-col size="6">
              <ion-input
                disabled="true"
                [(ngModel)]="profileInfo.lastname2"
                type="name"
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Apellido Materno (Opcional)"
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input
                disabled="true"
                [(ngModel)]="profileInfo.email"
                type="email"
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                placeholder="Correo"
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-intl-tel-input
                style="
                  border-radius: 6px;
                  color: var(--ion-color-secondary);
                  border: 1px solid var(--ion-color-primary);
                "
                [(ngModel)]="countrynumber"
                [fallbackPlaceholder]="fallbackPlaceholder"
                required
                id="countrycode"
                name="countrycode"
                (codeChange)="codechangeeee($event)"
                (ionChange)="showCountryName($event)"
                [defaultCountryiso]="'pe'"
                [inputPlaceholder]="inputPlaceholder"
                [modalTitle]="modalTitle"
                [modalSearchPlaceholder]="modalSearchPlaceholder"
                [modalCloseText]="modalCloseText"
                [modalCloseButtonSlot]="'end'"
                [modalCanSearch]="modalCanSearch"
                [modalShouldFocusSearchbar]="modalShouldFocusSearchbar"
                [modalSearchFailText]="modalSearchFailText"
              >
              </ion-intl-tel-input>
            </ion-col>
          </ion-row>

          <div class="ion-text-center">
            <ion-button
              color="secondary"
              fill="outline"
              (click)="abrirmodalcontrasena()"
              >Cambiar Contraseña</ion-button
            >
          </div>

          <ion-modal
            #modalcontrasena
            trigger="open-modal-2"
            [initialBreakpoint]="1"
            [breakpoints]="[0, 1]"
            handleBehavior="cycle"
          >
            <ng-template>
              <ion-content class="ion-padding">
                <div class="ion-text-center">
                  <h3>Cambiar contraseña</h3>
                </div>

                <ion-row>
                  <ion-col
                    size-xs="1.5"
                    size-sm="2"
                    size-md="2.5"
                    size-lg="3"
                    size-xl="3.5"
                  >
                  </ion-col>
                  <ion-col
                    size-xs="9"
                    size-sm="8"
                    size-md="7"
                    size-lg="6"
                    size-xl="5"
                  >
                    <ion-item
                      style="
                        border-radius: 6px;
                        color: var(--ion-color-secondary);
                        border: 1px solid var(--ion-color-primary);
                      "
                      lines="none"
                    >
                      <ion-label position="stacked"
                        >Contraseña anterior
                      </ion-label>
                      <ion-input
                        [(ngModel)]="contrasenaanterior"
                        type="password"
                        #campocontrasenaanterior
                        autofocus="true"
                      ></ion-input>
                    </ion-item>
                    <br />
                    <ion-item
                      style="
                        border-radius: 6px;
                        color: var(--ion-color-secondary);
                        border: 1px solid var(--ion-color-primary);
                      "
                      lines="none"
                    >
                      <ion-label position="stacked"
                        >Nueva Contraseña
                      </ion-label>
                      <ion-input
                        [(ngModel)]="contrasenanueva"
                        type="password"
                      ></ion-input>
                    </ion-item>
                    <br />
                    <ion-item
                      style="
                        border-radius: 6px;
                        color: var(--ion-color-secondary);
                        border: 1px solid var(--ion-color-primary);
                      "
                      lines="none"
                    >
                      <ion-label position="stacked">Repetir </ion-label>
                      <ion-input
                        [(ngModel)]="contrasenarepetir"
                        type="password"
                      ></ion-input>
                    </ion-item>
                    <br *ngIf="this.contrasenanueva==this.contrasenarepetir" />
                    <ion-text
                      *ngIf="this.contrasenanueva!=this.contrasenarepetir"
                      style="color: danger"
                      color="danger"
                      ><h5>Las contraseñas no coinciden!</h5></ion-text
                    >
                    <div class="ion-text-center">
                      <ion-button
                        color="secondary"
                        (click)="cerrarmodalcontrasena()"
                        >Cancelar</ion-button
                      >
                      <ion-button (click)="cambiarcontrasena()"
                        >Actualizar</ion-button
                      >
                    </div>
                  </ion-col>
                  <ion-col
                    size-xs="1.5"
                    size-sm="2"
                    size-md="2.5"
                    size-lg="3"
                    size-xl="3.5"
                  >
                  </ion-col>
                </ion-row>
              </ion-content>
            </ng-template>
          </ion-modal>

          <div class="ion-text-center">
            <ion-button color="secondary" (click)="cancelar()"
              >Cancelar</ion-button
            >
            <ion-button (click)="actualizarperfil()">Actualizar</ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </ion-col>

    <ion-col size-xs="0" size-sm="0" size-md="1" size-lg="2.5" size-xl="2.5">
    </ion-col>
  </ion-row>
</ion-content>
